<mvc:View controllerName="srbUI5QualityChecks.controller.startpage" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:form="sap.ui.layout.form" xmlns:tnt="sap.tnt" xmlns:layout="sap.ui.layout" xmlns:f="sap.f" xmlns:card="sap.f.cards" 
	xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
	<Page id="startpage" showHeader="false">
		<OverflowToolbar>
			<Title text="SRB UI5 Apps Quality Checks" level="H2" />
			<ToolbarSpacer />
			<ToolbarSpacer />
			<Label id="usernameLabel" />
			<Avatar
				id="myAvatar"
				src="{/Woman01}"
				displaySize="XS"
				showBorder="true"
				class="sapUiTinyMargin"
				press="onPress"/>
		</OverflowToolbar>
		<Panel visible="false" id="filterPanel" width="auto" expandable="true" expanded="true">
			<headerToolbar>
				<Toolbar height="3rem">
					<Title text="{i18n>filterAndSearch}"/>
					<ToolbarSpacer></ToolbarSpacer>
					<tnt:InfoLabel visible="false" id="filterInfo" text="{i18n>filterActive}" renderMode="Narrow" colorScheme="6"/>
					<ToolbarSpacer></ToolbarSpacer>
					<Button id="filterDelete" enabled="false" text="{i18n>deleteFilter}" press="filterDelete" type="Reject" icon="sap-icon://delete"/>
				</Toolbar>
			</headerToolbar>
			<content>
				<form:Form editable="true">
					<form:layout>
						<form:ResponsiveGridLayout labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0"
													emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false"/>
					</form:layout>
					<form:formContainers>
						<form:FormContainer>
							<form:formElements>
								<form:FormElement label="{i18n>repoFilterLabel}">
									<form:fields>
										<MultiInput id="repoFilter" value="" submit="filterSubmit" showValueHelp="true" showClearIcon="true" change="filterSubmit"
																	valueHelpRequest=".filters.repoFilter.valueHelpRequestRepoFilter" liveChange=".filters.repoFilter.liveChangeRepoFilter">
											<layoutData>
												<layout:GridData span="XL12 L12 M12 S12"/>
											</layoutData>
											<core:Item key="{name}" text="{name}" />
										</MultiInput>
									</form:fields>
								</form:FormElement>
							</form:formElements>
						</form:FormContainer>
					</form:formContainers>
				</form:Form>
			</content>
		</Panel>
		<List id="list" width="auto" class="sapFDynamicPageAlignContent" visible="false"
				items="{ path: '/results', sorter: { path: 'repo', descending: false, group: '.getRepo'},groupHeaderFactory: '.getGroupHeader' }" growing="true" growingScrollToLoad="true" >
			<headerToolbar>
				<OverflowToolbar justifyContent="Center">
					<SearchField liveChange=".onSearch" placeholder="Search for Repository" width="100%" />
				</OverflowToolbar>
			</headerToolbar>
			<CustomListItem id="masterItemTemplate" type="Navigation"
					highlight="{= ${problematic} === true ? 'Indication02' : 'Indication04' }" width="100%">
						<layout:VerticalLayout class="sapUiSmallMarginBegin sapUiMediumMarginTop sapUiMediumMarginBottom gridWrapper" width="100%" height="100%"> 
							<layout:Grid containerQuery="true" width="100%" defaultSpan="XL6 L6 M12 S12">
								<VBox class="sapUiSmallMarginTop">
									<Text text="{repository/description}" visible="{= ${repository/description} !== undefined}"/>
									<Text text="No description found" visible="{= ${repository/description} === null}"/>
									<Text text="{filename}" class="sapUiSmallMarginTop"/>
									<Text text="Version: {version} or higher" visible="{= ${isMinVersion} === true}"/>
									<Text text="Version: {version}" visible="{= ${isMinVersion} === false}"/>
									<HBox width="100%" class="sapUiMediumMarginTop sapUiSmallMarginBottom">
										<ObjectStatus class="lowerTitleText" text="Evergreen Bootstrap" state="Success" visible="{= ${isEvergreenBootstrap} === true}" />
										<ObjectStatus class="lowerTitleText" text="Evergreen Bootstrap" state="Error" visible="{= ${isEvergreenBootstrap} === false}" />
										<ObjectStatus class="sapUiTinyMarginBegin" state="Success" icon="sap-icon://sys-enter-2" visible="{= ${isEvergreenBootstrap} === true}" />
										<ObjectStatus class="sapUiTinyMarginBegin" icon="sap-icon://error" state="Error" visible="{= ${isEvergreenBootstrap} === false}" />
									</HBox>
									<HBox width="100%">
										<ObjectStatus class="lowerTitleText" text="End of maintenance: " />
										<ObjectStatus class="sapUiTinyMarginBegin" text="{eom}" visible="{= ${eom} !== true &amp;&amp; ${eom} !== 'Reached' }" />
										<ObjectStatus class="sapUiTinyMarginBegin" text="Removed" state="Error" visible="{= ${eom} === true }" />
										<ObjectStatus class="sapUiTinyMarginBegin" text="{eom}" state="Warning" visible="{= ${eom} === 'Reached' }"/>
									</HBox>
									<HBox width="100%" >
										<ObjectStatus class="lowerTitleText" text="End of cloud provisioning: " />
										<ObjectStatus class="sapUiTinyMarginBegin" text="{eocp}" visible="{= ${eocp} !== true &amp;&amp; ${eocp} !== 'Reached' }" />
										<ObjectStatus class="sapUiTinyMarginBegin" text="Removed" state="Error" visible="{= ${eocp} === true }" />
										<ObjectStatus class="sapUiTinyMarginBegin" text="{eocp}" state="Warning" visible="{= ${eocp} === 'Reached' }"/>
									</HBox>
								</VBox>
								<VBox>
									<HBox class="sapUiSmallMarginTop sapUiSmallMarginBottom">
										<ObjectStatus class="lowerTitleText" text="Linter Status: " visible="{= ${linter/conclusion} === undefined }"/>
										<ObjectStatus class="lowerTitleText" text="Linter Status: " state="Success" visible="{= ${linter/conclusion} === 'success' }"/>
										<ObjectStatus class="lowerTitleText" text="Linter Status: " state="Error" visible="{= ${linter/conclusion} === 'failure' }"/>
										<ObjectStatus class=" sapUiTinyMarginBegin" icon="sap-icon://error" state="Error" visible="{= ${linter/conclusion} === 'failure' }"/>
										<ObjectStatus class=" sapUiTinyMarginBegin" icon="sap-icon://sys-enter-2" state="Success" visible="{= ${linter/conclusion} === 'success' }" />
										<ObjectStatus class=" sapUiTinyMarginBegin" text="N/A" visible="{= ${linter/conclusion} === undefined }"/>
									</HBox >
									<HBox width="100%">
										<ObjectStatus class="lowerTitleText" text="Linter Build Jobs: "  />
										<ObjectStatus class="sapUiTinyMarginBegin" text="Exist" state="Success" visible="{= ${allBuildJobs}.length !== 0 }" />
										<ObjectStatus class="sapUiTinyMarginBegin" text="Not found" state="Error" visible="{= ${allBuildJobs}.length === 0 }" />
									</HBox>
									<HBox width="100%">
										<ObjectStatus class="lowerTitleText" text="Linter Lint Jobs: "  />
										<ObjectStatus class="sapUiTinyMarginBegin" text="Exist" state="Success" visible="{= ${allLintJobs}.length !== 0 }" />
										<ObjectStatus class="sapUiTinyMarginBegin" text="Not found" state="Error" visible="{= ${allLintJobs}.length === 0 }" />
									</HBox>
									<HBox width="100%" class="sapUiMediumMarginTop">
										<ObjectStatus class="lowerTitleText" text="Linter Title: " />
										<ObjectStatus class=" sapUiTinyMarginBegin" text="{linter/display_title}" visible="{= ${linter/conclusion} !== undefined  }"/>
										<ObjectStatus class=" sapUiTinyMarginBegin" text="N/A" visible="{= ${linter/conclusion} === undefined }" />
									</HBox>
									<HBox width="100%">
										<ObjectStatus class="lowerTitleText" text="Head Branch: " />
										<ObjectStatus class=" sapUiTinyMarginBegin" text="{linter/head_branch}" visible="{= ${linter/conclusion} !== undefined  }" />
										<ObjectStatus class=" sapUiTinyMarginBegin" text="N/A" visible="{= ${linter/conclusion} === undefined  }" />
									</HBox>
								</VBox>
							</layout:Grid>
						</layout:VerticalLayout>
			</CustomListItem>
		</List>
		<!-- <Table visible="false" id="resultsTable" autoPopinMode="true" contextualWidth="Auto" popinChanged=".onPopinChanged" 
		items="{ path: '/results', sorter: { path: 'repo', descending: false, group: '.getRepo'}, groupHeaderFactory: '.getGroupHeader'}" sticky="ColumnHeaders">
			<headerToolbar>
				<OverflowToolbar>
					<ToolbarSpacer />
					<OverflowToolbarButton id="tableFilterButton" icon="sap-icon://filter" press="tableFilterButtonPressed"/>
					<OverflowToolbarButton id="tableSortButton" icon="sap-icon://sort" press="tableSortButtonPressed"/>
				</OverflowToolbar>
			</headerToolbar>
			<columns>
				<Column visible="false" width="20%" importance="High" customData:dataField="repo">
					<Text text="Repository" />
				</Column>
				<Column width="20%" importance="None" customData:dataField="filename">
					<Text text="File" />
				</Column>
				<Column width="8em" importance="Low" customData:dataField="version" hAlign="Center">
					<Text text="Version" />
				</Column>
				<Column width="8em" importance="Low" customData:dataField="isEvergreenBootstrap" hAlign="Center">
					<Text text="Evergreen Bootstrapping" />
				</Column>
				<Column width="8em" importance="Low" customData:dataField="eocp" hAlign="Center">
					<Text text="End of maintenance" />
				</Column>
				<Column width="8em" importance="Low" customData:dataField="eom" hAlign="Center">
					<Text text="End of cloud provisioning" />
				</Column>
				<Column width="8em" importance="Low" customData:dataField="linter/conclusion" hAlign="Center">
					<Text text="Linter Status" />
				</Column>
			</columns>
			<items>
				<ColumnListItem vAlign="Middle" type="Navigation" press="listItemPressed" highlight="{= ${problematic} === true ? 'Indication02' : 'Indication04' }">
					<cells>
						<Text text="{repo}" />
						<Text text="{filename}" />
						<HBox justifyContent="Center">
							<Text text="{version}" visible="{= ${isMinVersion} !== true }"  />
							<Text text="mind. {version}" visible="{= ${isMinVersion} !== false }"  />
						</HBox>
						<HBox justifyContent="Center" >
							<ObjectStatus
								state="Success"
								icon= "sap-icon://sys-enter-2"
								visible="{= ${isEvergreenBootstrap} === true}"
								 />
								 <ObjectStatus
								icon="sap-icon://error"
								state="Error"
								visible="{= ${isEvergreenBootstrap} === false}"
								 />
						</HBox>
						<HBox justifyContent="Center">
							<ObjectStatus
								text="{eom}"
								visible="{= ${eom} !== true &amp;&amp; ${eom} !== 'Reached' }"
								 />
							<ObjectStatus
								text="Removed"
								state="Error"
								visible="{= ${eom} === true }"
								 />
							<ObjectStatus
								text="{eom}"
								state="Warning"
								visible="{= ${eom} === 'Reached' }"
								 />

						</HBox>
						<HBox justifyContent="Center">
							<ObjectStatus
								text="{eom}"
								visible="{= ${eocp} !== true &amp;&amp; ${eocp} !== 'Reached'}"
								 />
							<ObjectStatus
								text="Removed"
								state="Error"
								visible="{= ${eocp} === true }"
								 />
							<ObjectStatus
								text="{eom}"
								state="Warning"
								visible="{= ${eocp} === 'Reached' }"
								 />

						</HBox>
						<HBox justifyContent="Center">
						<ObjectStatus
								icon="sap-icon://error"
								state="Error"
								visible="{= ${linter} === 'failure' }"
								 />
						<ObjectStatus
								icon="sap-icon://sys-enter-2"
								state="Success"
								visible="{= ${linter} === 'success' }"
								 />
						<ObjectStatus
								text="Not available"
								visible="{= ${linter} === undefined }"
								 />
						</HBox>
					</cells>
				</ColumnListItem>
			</items>
		</Table> -->
		<FlexBox id="loginBox" alignItems="Center" fitContainer="false" justifyContent="Center" direction="Column">
			<f:Card class="sapUiMediumMarginTop sapUiMediumMarginBottom barcodeCard" width="100%" height="100%" >
				<f:header>
				</f:header>
				<f:content>
					<FlexBox id="barcodeInputFlexbox" height="100%" width="100%" alignItems="Center" fitContainer="true" justifyContent="Center" direction="Column"
						class="sapUiTinyMarginTop sapUiTinyMarginBottom">
						<Label text="GitHub Access Token:" />
						<Input
						id="tokenInput"
						type="Password"
						width="300px"
						value="" 
						placeholder="GitHub Access Token" />
						<Button type="Accept" press=".startPressed" text="Go go gadget" />
					</FlexBox>
				</f:content>
			</f:Card>
		</FlexBox>
	</Page>
</mvc:View>